# 日志打印

[:octicons-tag-24: Version 1.3.1](https://ave.entropy2020.cn/version/tools/#131)

下面的示例都将采用下段作为日志内容：

> 苏州园林里都有假山和池沼。假山的堆叠，可以说是一项艺术而不仅是技术。或者是重峦叠嶂，或者是几座小山配合着竹子花木，全在乎设计者和匠师们生平多阅历，胸中有邱壑，才能使游览者攀登的时候忘却苏州城市，只觉得身在山间。至于池沼，大多引用活水。有些园林池沼宽敞，就把池沼作为全园的中心，其他景物配合着布置。水面假如成河道模样，往往安排桥梁。假如安排两座以上的桥梁，那就一座一个样，决不雷同。池沼或河道的边沿很少砌齐整的石岸，总是高低屈曲任其自然。还在那儿布置几块玲珑的石头，或者种些花草：这也是为了取得从各个角度看都成一幅画的效果。池沼里养着金鱼或各色鲤鱼，夏秋季节荷花或睡莲开放，游览者看“鱼戏莲叶间”，又是入画的一景。

默认情况下，它的打印效果如下：

```xml
╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════
║ Thread: main Tag: FileActivity Level: DEBUG Time: 2024-05-18 13:44:09
╟──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
║ com.ave.vastgui.app.activity.FileActivity.onCreate$lambda$0(FileActivity.kt:47)
╟──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
║ 苏州园林里都有假山和池沼。假山的堆叠，可以说是一项艺术而不仅是技术。或者是重峦叠嶂，或者是几座小山配合着竹子花木，全在乎设计者和匠师们生平多阅历，胸中有邱壑，才能使游览者攀登的时候忘却苏州城市，只觉得身在山间。至于池沼，大多引用活水。有些园林池沼宽敞，就把池沼作为全园的中心，其他景物配合着布置。水面假如成河道模样，往往安排桥梁。假如安排两座以上的桥梁，那就一座一个样，决不雷同。池沼或河道的边沿很少砌齐整的石岸，总是高低屈曲任其自然。还在那儿布置几块玲珑的石头，或者种些花草：这也是为了取得从各个角度看都成一幅画的效果。池沼里养着金鱼或各色鲤鱼，夏秋季节荷花或睡莲开放，游览者看“鱼戏莲叶间”，又是入画的一景。
╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

```

## 限制每行字符数

[:octicons-tag-24: Version 1.3.1](https://ave.entropy2020.cn/version/tools/#131)

[android()](https://api.ave.entropy2020.cn/tools/com.ave.vastgui.tools.log/android.html) 提供了 `maxSingleLogLength` 用于设置单行日志的最大打印长度。

```kotlin
val mLogFactory: LogFactory = getLogFactory {
    ...
    install(LogPrinter) {
        logger = Logger.android(30)
    }
}
```

它的打印效果如下：

```xml
╔════════════════════════════════════════════════════════════════════════════════
║ Thread: main Tag: FileActivity Level: DEBUG Time: 2024-05-18 13:50:24
╟────────────────────────────────────────────────────────────────────────────────
║ com.ave.vastgui.app.activity.FileActivity.onCreate$lambda$0(FileActivity.kt:47)
╟────────────────────────────────────────────────────────────────────────────────
║ 苏州园林里都有假山和池沼。假山的堆叠，可以说是一项艺术而不仅是技术。或者是重峦
║ 叠嶂，或者是几座小山配合着竹子花木，全在乎设计者和匠师们生平多阅历，胸中有邱壑
║ ，才能使游览者攀登的时候忘却苏州城市，只觉得身在山间。至于池沼，大多引用活水。
║ 有些园林池沼宽敞，就把池沼作为全园的中心，其他景物配合着布置。水面假如成河道模
║ 样，往往安排桥梁。假如安排两座以上的桥梁，那就一座一个样，决不雷同。池沼或河道
║ 的边沿很少砌齐整的石岸，总是高低屈曲任其自然。还在那儿布置几块玲珑的石头，或者
║ 种些花草：这也是为了取得从各个角度看都成一幅画的效果。池沼里养着金鱼或各色鲤鱼
║ ，夏秋季节荷花或睡莲开放，游览者看“鱼戏莲叶间”，又是入画的一景。
╚════════════════════════════════════════════════════════════════════════════════
```

!!! note "字符长度计算说明"

    每个字符按照 UTF-8 最大 4Bytes 计算。因此实际打印结果可能会略微有差异，这是正常的。

## 限制最多打印次数

[:octicons-tag-24: Version 1.3.1](https://ave.entropy2020.cn/version/tools/#131)

[android()](https://api.ave.entropy2020.cn/tools/com.ave.vastgui.tools.log/android.html) 提供了 `maxPrintTimes` 用于设置日志打印的次数，例如根据设置超长的日志被分割为 10 行，如果 `maxPrintTimes` 被设置为 5 ，则只会打印前五行内容。

```kotlin
val mLogFactory: LogFactory = getLogFactory {
    ...
    install(LogPrinter) {
        logger = Logger.android(30,5)
    }
}
```

它的打印效果如下：

```xml
╔════════════════════════════════════════════════════════════════════════════════
║ Thread: main Tag: FileActivity Level: DEBUG Time: 2024-05-18 13:53:22
╟────────────────────────────────────────────────────────────────────────────────
║ com.ave.vastgui.app.activity.FileActivity.onCreate$lambda$0(FileActivity.kt:47)
╟────────────────────────────────────────────────────────────────────────────────
║ 苏州园林里都有假山和池沼。假山的堆叠，可以说是一项艺术而不仅是技术。或者是重峦
║ 叠嶂，或者是几座小山配合着竹子花木，全在乎设计者和匠师们生平多阅历，胸中有邱壑
║ ，才能使游览者攀登的时候忘却苏州城市，只觉得身在山间。至于池沼，大多引用活水。
║ 有些园林池沼宽敞，就把池沼作为全园的中心，其他景物配合着布置。水面假如成河道模
║ 样，往往安排桥梁。假如安排两座以上的桥梁，那就一座一个样，决不雷同。池沼或河道
╚════════════════════════════════════════════════════════════════════════════════
```

## 设置标头内容

[:octicons-tag-24: Version 1.3.1](https://ave.entropy2020.cn/version/tools/#131)

默认情况下，日志的标头包含以下内容：

```xml
╔════════════════════════════════════════════════════════════════════════════════
║ Thread: main Tag: FileActivity Level: DEBUG Time: 2024-05-18 13:53:22
╟────────────────────────────────────────────────────────────────────────────────
...
```

[android()](https://api.ave.entropy2020.cn/tools/com.ave.vastgui.tools.log/android.html) 提供了 `header` ，它是一个 [LogHeader](https://api.ave.entropy2020.cn/tools/com.ave.vastgui.tools.log.base/-log-header/index.html) 对象，可以用来设置标头的内容：

|   参数   |                          说明                           |
| :------: | :-----------------------------------------------------: |
| `thread` |  如果要在标头中显示线程名，则为 true ，否则为 false 。  |
|  `tag`   | 如果您想在标题中显示 Tag ，则为 true ，否则为 false 。  |
| `level`  | 如果要在标头中显示日志等级，则为 true ，否则为 false 。 |
|  `time`  |  如果要在标头中显示时间戳，则为 true ，否则为 false 。  |
